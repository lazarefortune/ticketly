{% for type, messages in app.session.flashbag.all() %}
    {% set floating = floating|default(true) %}
    {% set duration = duration|default(5) %}
    {% set alert_element = floating ? 'alert-floating' : 'alert-message' %}
    {% set alert_type = type == 'error' ? 'danger' : type %}

    {% for message in messages %}
        <{{ alert_element }} type="{{ alert_type }}"
        {% if floating and alert_type == 'success' %}
            duration="{{ duration }}"
        {% endif %}>
        {{ message | nl2br }}
        </{{ alert_element }}>
    {% endfor %}
{% endfor %}
